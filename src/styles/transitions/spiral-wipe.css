/* Spiral Wipe Theme Transition */

html.spiral-wipe-transition::view-transition-group(root) {
  animation-timing-function: var(--expo-out);
}

html.spiral-wipe-transition::view-transition-old(root) {
  animation: none;
  z-index: -1;
}

html.spiral-wipe-transition::view-transition-new(root) {
  animation: spiral-expand 0.6s var(--expo-out) forwards;
}

@keyframes spiral-expand {
  0% {
    clip-path: polygon(50% 50%, 50% 50%, 50% 48%);
  }
  10% {
    clip-path: polygon(50% 50%, 52% 40%, 55% 38%, 48% 48%);
  }
  20% {
    clip-path: polygon(50% 50%, 60% 35%, 65% 40%, 55% 55%, 45% 52%);
  }
  30% {
    clip-path: polygon(50% 50%, 70% 30%, 75% 45%, 60% 60%, 40% 58%, 38% 48%);
  }
  40% {
    clip-path: polygon(
      50% 50%,
      80% 25%,
      85% 50%,
      65% 70%,
      40% 68%,
      30% 50%,
      35% 42%
    );
  }
  50% {
    clip-path: polygon(
      50% 50%,
      90% 20%,
      95% 55%,
      70% 80%,
      35% 78%,
      20% 52%,
      28% 35%,
      45% 38%
    );
  }
  60% {
    clip-path: polygon(
      50% 50%,
      100% 15%,
      105% 60%,
      75% 90%,
      30% 88%,
      10% 55%,
      22% 28%,
      52% 32%
    );
  }
  70% {
    clip-path: polygon(
      50% 50%,
      110% 10%,
      115% 65%,
      80% 100%,
      25% 98%,
      0% 58%,
      18% 22%,
      58% 28%
    );
  }
  80% {
    clip-path: polygon(
      50% 50%,
      120% 5%,
      125% 70%,
      85% 110%,
      20% 108%,
      -10% 62%,
      15% 18%,
      65% 25%
    );
  }
  90% {
    clip-path: polygon(
      50% 50%,
      130% 0%,
      135% 75%,
      90% 120%,
      15% 118%,
      -20% 68%,
      12% 15%,
      72% 22%
    );
  }
  100% {
    clip-path: polygon(
      50% 50%,
      150% -10%,
      150% 100%,
      100% 150%,
      0% 150%,
      -50% 80%,
      -50% 0%,
      100% 0%
    );
  }
}
