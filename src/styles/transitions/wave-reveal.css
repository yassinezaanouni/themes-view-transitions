/* Wave Reveal Theme Transition */

html.wave-reveal-transition::view-transition-group(root) {
  animation-timing-function: var(--expo-out);
}

html.wave-reveal-transition::view-transition-old(root),
html.wave-reveal-transition.dark::view-transition-old(root) {
  animation: none;
  z-index: -1;
}

html.wave-reveal-transition::view-transition-new(root) {
  animation: wave-reveal 0.6s var(--expo-out) forwards;
}

@keyframes wave-reveal {
  0% {
    clip-path: polygon(
      0% 100%,
      10% 100%,
      20% 105%,
      30% 110%,
      40% 113%,
      50% 115%,
      60% 113%,
      70% 110%,
      80% 105%,
      90% 100%,
      100% 100%,
      100% 100%,
      0% 100%
    );
  }
  15% {
    clip-path: polygon(
      0% 78%,
      10% 78%,
      20% 86%,
      30% 94%,
      40% 98%,
      50% 102%,
      60% 98%,
      70% 94%,
      80% 86%,
      90% 78%,
      100% 78%,
      100% 100%,
      0% 100%
    );
  }
  30% {
    clip-path: polygon(
      0% 58%,
      10% 58%,
      20% 68%,
      30% 78%,
      40% 83%,
      50% 88%,
      60% 83%,
      70% 78%,
      80% 68%,
      90% 58%,
      100% 58%,
      100% 100%,
      0% 100%
    );
  }
  45% {
    clip-path: polygon(
      0% 50%,
      10% 50%,
      20% 56%,
      30% 62%,
      40% 65%,
      50% 68%,
      60% 65%,
      70% 62%,
      80% 56%,
      90% 50%,
      100% 50%,
      100% 100%,
      0% 100%
    );
  }
  60% {
    clip-path: polygon(
      0% 35%,
      10% 30%,
      20% 26%,
      30% 22%,
      40% 20%,
      50% 18%,
      60% 20%,
      70% 22%,
      80% 26%,
      90% 30%,
      100% 35%,
      100% 100%,
      0% 100%
    );
  }
  75% {
    clip-path: polygon(
      0% 22%,
      10% 16%,
      20% 12%,
      30% 8%,
      40% 6%,
      50% 4%,
      60% 6%,
      70% 8%,
      80% 12%,
      90% 16%,
      100% 22%,
      100% 100%,
      0% 100%
    );
  }
  90% {
    clip-path: polygon(
      0% 10%,
      10% 6%,
      20% 4%,
      30% 2%,
      40% 1%,
      50% 0%,
      60% 1%,
      70% 2%,
      80% 4%,
      90% 6%,
      100% 10%,
      100% 100%,
      0% 100%
    );
  }
  100% {
    clip-path: polygon(
      0% 0%,
      10% 0%,
      20% 0%,
      30% 0%,
      40% 0%,
      50% 0%,
      60% 0%,
      70% 0%,
      80% 0%,
      90% 0%,
      100% 0%,
      100% 100%,
      0% 100%
    );
  }
}
